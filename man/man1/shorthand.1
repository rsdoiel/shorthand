'\" t
.\" Automatically generated by Pandoc 3.1.12
.\"
.TH "" "" "" "" ""
.PP
USAGE: shorthand [OPTIONS] [SHORTHAND_FILES]
.PP
SYNOPSIS
.PP
shorthand a simple label expander
.PP
DESCRIPTION
.PP
shorthand is a command line utility to expand labels based on their
assigned definitions.
The render output is the transformed text and without the shorthand
definitions themselves.
shorthand reads from standard input and writes to standard output.
.PP
OPTIONS
.IP
.EX
\-examples            display examples
\-generate\-markdown   output documentation in Markdown
\-h, \-help            display help
\-i, \-input           input filename
\-l, \-license         display license
\-n, \-no\-prompt       Turn off the prompt for interactive processing
\-o, \-output          output filename
\-p, \-prompt          Output a prompt for interactive processing
\-quiet               suppress error messages
\-v, \-version         diplsay version
.EE
.PP
EXAMPLES
.PP
ASSIGNMENTS AND EXPANSIONS
.PP
Shorthand is a simple label expansion utility.
It is based on a simple key value substitution.
It supports this following types of definitions
.IP \[bu] 2
Assign a string to a LABEL
.IP \[bu] 2
Assign the contents of a file to a LABEL
.IP \[bu] 2
Assign the output of a Bash shell expression to a LABEL
.IP \[bu] 2
Assign the output of a shorthand expansion to a LABEL
.IP \[bu] 2
Read a file of shorthand assignments and assign any expansions to the
LABEL
.IP \[bu] 2
Output a LABEL value to a file
.IP \[bu] 2
Output all LABEL values to a file
.IP \[bu] 2
Output a LABEL assignment statement to a file
.IP \[bu] 2
Output all assignment statements to a file
.PP
\f[I]shorthand\f[R] replaces the LABEL with the value assigned to it
whereever it is encountered in the text being passed.
The assignment statement is not written to stdout output.
.PP
.TS
tab(@);
lw(14.1n) lw(21.2n) lw(34.7n).
T{
operator
T}@T{
meaning
T}@T{
example
T}
_
T{
:set:
T}@T{
Assign String
T}@T{
:set: {{name}} Freda
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:import\-text:
T}@T{
Assign the contents of a file
T}@T{
:import\-text: {{content}} myfile.txt
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:import\-shorthand:
T}@T{
Get assignments from a file
T}@T{
:import\-shorthand: _ myfile.shorthand
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:expand:
T}@T{
Assign an expansion
T}@T{
:expand: {{reportTitle}} Report: \[at]title for \[at]date
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:expand\-expansion:
T}@T{
Assign expanded expansion
T}@T{
:expand\-expansion: {{reportHeading}} \[at]reportTitle
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:import:
T}@T{
Include a file, procesisng the shorthand
T}@T{
:import: {{nav}} mynav.shorthand
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:bash:
T}@T{
Assign Shell output
T}@T{
:bash: {{date}} date +%Y\-%m\-%%d
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:expand\-and\-bash:
T}@T{
Assign Expand then gete Shell output
T}@T{
:expand\-and\-bash: {{entry}} cat header.txt \[at]filename footer.txt
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:export:
T}@T{
Output a label\[cq]s value to a file
T}@T{
:export: {{content}} content.txt
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:export\-all:
T}@T{
Output all assigned Expansions
T}@T{
:export\-all: _ contents.txt
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:export\-shorthand:
T}@T{
Output Assignment
T}@T{
:export\-shorthand: {{content}} content.shorthand
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:export\-all\-shorthand:
T}@T{
Output all shorthand assignments
T}@T{
:export\-all\-shorthand: _ contents.shorthand
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
T{
:exit:
T}@T{
Exit the shorthand repl
T}@T{
:exit:
T}
T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\-
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}@T{
\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]\[em]
T}
.TE
.PP
Notes: Using an underscore as a LABEL means the label will be ignored.
There are no guarantees of order when writing values or assignment
statements to a file.
.PP
The spaces following surrounding \[lq]:set:\[rq],
\[lq]:import\-text:\[rq], \[lq]:bash:\[rq], \[lq]:expand:\[rq],
\[lq]:export:\[rq], etc.
are required.
.PP
EXAMPLE
.PP
In this example a file containing the text of pre\-amble is assigned to
the label \[at]PREAMBLE, the time 3:30 is assigned to the label {{NOW}}.
.IP
.EX
:import\-text: {{PREAMBLE}} /home/me/preamble.text
:set: {{NOW}} 3:30

At {{NOW}} I will be reading the {{PREAMBLE}} until everyone falls asleep.
.EE
.PP
If the file preamble.txt contained the phrase \[lq]Hello World\[rq]
(including the quotes but without any carriage return or line feed) the
output after processing the shorthand would look like \-
.IP
.EX
At 3:30 I will be reading the \[dq]Hello World\[dq] until everyone falls asleep.
.EE
.PP
Notice the lines containing the assignments are not included in the
output and that no carriage returns or line feeds are added the the
substituted labels.
.IP \[bu] 2
Assign shorthand expansions to a LABEL
.RS 2
.IP \[bu] 2
:expand: LABEL SHORTHAND_TO_BE_EXPANDED
.IP \[bu] 2
:expand: \[at]content\[at] \[at]report_name\[at] \[at]report_date\[at]
.RS 2
.IP \[bu] 2
this would concatenate report name and date
.RE
.RE
.PP
PROCESSING MARKDOWN PAGES
.PP
\f[I]shorthand\f[R] is a label expander or light weight macro expande.
It can be combined with programs like \f[I]pandoc\f[R] as a
pre\-processor.
.PP
In this example we\[cq]ll build a HTML page with shorthand labels from a
couple markdown documents.
Then we will use the render HTML as a template for a blog page entry.
.PP
Our markdown file serving as a template will be call
\[lq]post\-template.md\[rq].
It should contain the outline of the structure of the page plus some
shorthand labels we\[cq]ll expand later.
.IP
.EX
# \[at]blogTitle

## \[at]pageTitle

### \[at]dateString

\[at]contentBlocks
.EE
.PP
For the purposes of this exercise we\[cq]ll use \f[I]shorthand\f[R] as a
repl and just enter the assignments sequencly.
Also rather than use the output of shorthand directly we\[cq]ll build up
the content for the page in a label and use shorthand itself to write
the final page out.
.PP
The steps we\[cq]ll follow will be to
.IP "1." 3
Read in our markdown file page.md and turn it into an HTML with embedded
shorthand labels
.IP "2." 3
Assign some values to the labels
.IP "3." 3
Expand the labels in the HTML and assign to a new label
.IP "4." 3
Write the new label out to are page call \[lq]page.html\[rq]
.PP
Start the repl with this version of the shorthand command:
.IP
.EX
shorthand \-p \[dq]? \[dq]
.EE
.PP
The \f[I]\-p\f[R] option tells \f[I]shorthand\f[R] to use the value
\[lq]?\[rq] as the prompt.
When \f[I]shorthand\f[R] starts it will display \[lq]?\[rq] to indicate
it is ready for an assignment or expansion.
.PP
The following assumes you are in the \f[I]shorthand\f[R] repl.
.PP
Load the mardkown file and transform it into HTML with embedded
shorthand labels
.IP
.EX
:import: \[at]pageTemplate post\-template.md
:bash: \[at]dateString date
:set: \[at]blogTitle My Blog
:set: \[at]pageTitle A Post
:import: \[at]contentBlock a\-post.md
:export: \[at]output post.md
:exit:
.EE
.PP
Then we can run the following command to pipe it through Pandoc.
.IP
.EX
pandoc \-s \-t html post.md > post.html
.EE
.PP
shorthand 0.2.2
